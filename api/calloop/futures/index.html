<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A futures executor as an event source"><title>calloop::futures - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="calloop" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0-beta.7 (b216e7b0e 2023-12-16)" data-channel="beta" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../calloop/index.html">calloop</a><span class="version">0.12.3</span></h2></div><h2 class="location"><a href="#">Module futures</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate calloop</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">calloop</a>::<wbr><a class="mod" href="#">futures</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/calloop/sources/futures.rs.html#1-420">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A futures executor as an event source</p>
<p>Only available with the <code>executor</code> cargo feature of <code>calloop</code>.</p>
<p>This executor is intended for light futures, which will be polled as part of your
event loop. Such futures may be waiting for IO, or for some external computation on an
other thread for example.</p>
<p>You can create a new executor using the <code>executor</code> function, which creates a pair
<code>(Executor&lt;T&gt;, Scheduler&lt;T&gt;)</code> to handle futures that all evaluate to type <code>T</code>. The
executor should be inserted into your event loop, and will yield the return values of
the futures as they finish into your callback. The scheduler can be cloned and used
to send futures to be executed into the executor. A generic executor can be obtained
by choosing <code>T = ()</code> and letting futures handle the forwarding of their return values
(if any) by their own means.</p>
<p><strong>Note:</strong> The futures must have their own means of being woken up, as this executor is,
by itself, not I/O aware. See <a href="../struct.LoopHandle.html#method.adapt_io" title="struct calloop::LoopHandle"><code>LoopHandle::adapt_io</code></a>
for that, or you can use some other mechanism if you prefer.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Executor.html" title="struct calloop::futures::Executor">Executor</a></div><div class="desc docblock-short">A future executor as an event source</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutorDestroyed.html" title="struct calloop::futures::ExecutorDestroyed">ExecutorDestroyed</a></div><div class="desc docblock-short">Error generated when trying to schedule a future after the
executor was destroyed.</div></li><li><div class="item-name"><a class="struct" href="struct.Scheduler.html" title="struct calloop::futures::Scheduler">Scheduler</a></div><div class="desc docblock-short">A scheduler to send futures to an executor</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.ExecutorError.html" title="enum calloop::futures::ExecutorError">ExecutorError</a></div><div class="desc docblock-short">An error arising from processing events in an async executor event source.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.executor.html" title="fn calloop::futures::executor">executor</a></div><div class="desc docblock-short">Create a new executor, and its associated scheduler</div></li></ul></section></div></main></body></html>